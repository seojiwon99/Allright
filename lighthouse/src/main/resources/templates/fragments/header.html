<html lagn="ko" xmlns:th="http://www.thymeleaf.org">
<!--headerFragment ÏÑ†Ïñ∏-->

<div th:fragment="headerFragment">
	<!-- Search -->
	<div class="offcanvas offcanvas-end" id="modalSearch" tabindex="-1"
		role="dialog" aria-hidden="true">
		<!-- Close -->
		<button type="button" class="btn-close" data-bs-dismiss="offcanvas"
			aria-label="Close">
			<i class="fe fe-x" aria-hidden="true"></i>
		</button>

		<!-- Header-->
		<div class="offcanvas-header lh-fixed fs-lg">
			<strong class="mx-auto">Search Products</strong>
		</div>

		<!-- Body: Form Ïó¨Í∏∞ Ïö∞Î¶¨ Ïπ¥ÌÖåÍ≥†Î¶¨  ÎÑ£Ïñ¥Ìï®-->
		<div class="offcanvas-body">
			<form>
				<div class="form-group">
					<label class="visually-hidden" for="modalSearchCategories">Categories:</label>
					<select class="form-select" id="modalSearchCategories">
						<option selected>All Categories</option>
						<option>Women</option>
						<option>Men</option>
						<option>Kids</option>
					</select>
				</div>
				<div class="input-group input-group-merge">
					<input class="form-control" type="search" placeholder="Search" />
					<div class="input-group-append">
						<button class="btn btn-outline-border" type="submit">
							<i class="fe fe-search"></i>
						</button>
					</div>
				</div>
			</form>
		</div>

		<!-- Body: Results (add `.d-none` to disable it) -->
		<div class="offcanvas-body border-top fs-sm">
			<!-- Heading -->
			<p>Search Results:</p>

			<!-- Items -->
			<div class="row align-items-center position-relative mb-5">
				<div class="col-4 col-md-3">
					<!-- Image -->
					<img class="img-fluid" src="./assets/img/products/product-5.jpg"
						alt="..." />
				</div>
				<div class="col position-static">
					<!-- Text -->
					<p class="mb-0 fw-bold">
						<a class="stretched-link text-body" href="./product.html">Leather
							mid-heel Sandals</a> <br /> <span class="text-muted">$129.00</span>
					</p>
				</div>
			</div>
			<div class="row align-items-center position-relative mb-5">
				<div class="col-4 col-md-3">
					<!-- Image -->
					<img class="img-fluid" src="./assets/img/products/product-6.jpg"
						alt="..." />
				</div>
				<div class="col position-static">
					<!-- Text -->
					<p class="mb-0 fw-bold">
						<a class="stretched-link text-body" href="./product.html">Cotton
							floral print Dress</a> <br /> <span class="text-muted">$40.00</span>
					</p>
				</div>
			</div>
			<div class="row align-items-center position-relative mb-5">
				<div class="col-4 col-md-3">
					<!-- Image -->
					<img class="img-fluid" src="./assets/img/products/product-7.jpg"
						alt="..." />
				</div>
				<div class="col position-static">
					<!-- Text -->
					<p class="mb-0 fw-bold">
						<a class="stretched-link text-body" href="./product.html">Leather
							Sneakers</a> <br /> <span class="text-primary">$85.00</span>
					</p>
				</div>
			</div>
			<div class="row align-items-center position-relative mb-5">
				<div class="col-4 col-md-3">
					<!-- Image -->
					<img class="img-fluid" src="./assets/img/products/product-8.jpg"
						alt="..." />
				</div>
				<div class="col position-static">
					<!-- Text -->
					<p class="mb-0 fw-bold">
						<a class="stretched-link text-body" href="./product.html">Cropped
							cotton Top</a> <br /> <span class="text-muted">$29.00</span>
					</p>
				</div>
			</div>
			<div class="row align-items-center position-relative mb-5">
				<div class="col-4 col-md-3">
					<!-- Image -->
					<img class="img-fluid" src="./assets/img/products/product-9.jpg"
						alt="..." />
				</div>
				<div class="col position-static">
					<!-- Text -->
					<p class="mb-0 fw-bold">
						<a class="stretched-link text-body" href="./product.html">Floral
							print midi Dress</a> <br /> <span class="text-muted">$50.00</span>
					</p>
				</div>
			</div>

			<!-- Button -->
			<a class="btn btn-link px-0 text-reset" href="./shop.html"> View
				All <i class="fe fe-arrow-right ms-2"></i>
			</a>
		</div>

		<!-- Body: Empty (remove `.d-none` to enable it) -->
		<div class="offcanvas-body d-none">
			<!-- Text -->
			<p class="mb-3 fs-sm text-center">Nothing matches your search</p>

			<!-- Smiley -->
			<p class="mb-0 fs-sm text-center">üòû</p>
		</div>
		<!--  Í≤ÄÏÉâ div--------------- -->
	</div>

	<!-- NAVBAR -->
	<div
		class="navbar navbar-topbar navbar-expand-xl navbar-light bg-light">
		<div class="container">

			<!-- Promo -->
			<div class="me-xl-8">
				<i class="fe fe-truck me-2"></i> <span class="heading-xxxs">Free
					shipping worldwide</span>
			</div>

			<!-- Toggler -->
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#topbarCollapse"
				aria-controls="topbarCollapse" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<!-- Collapse -->
			<div class="collapse navbar-collapse" id="topbarCollapse">

				<!-- Nav -->
				<ul class="nav nav-divided navbar-nav me-auto">

				</ul>

				<!-- Nav -->
				<ul class="nav navbar-nav me-8">
					<li class="nav-item"><a class="nav-link"
						th:if="${session.loginMember} != null" href="/" th:text="Î°úÍ∑∏ÏïÑÏõÉ" onclick="logoutMember()"></a></li>
					
					<li class="nav-item"><a class="nav-link"
						th:href="${session.loginMember} == null ? @{/page/member/loginForm} : '#'" th:text="${session.loginMember} != null ? ${session.loginMember.memberId} : 'Î°úÍ∑∏Ïù∏' ">Shipping</a></li>
				
					<li class="nav-item dropdown hovered">
						<!-- Toggle --> <a class="nav-link" data-bs-toggle="dropdown"
						href="#" aria-expanded="false">Í≥†Í∞ùÏÑºÌÑ∞</a> <!-- Menu -->
						<div class="dropdown-menu">
							<div class="card card-lg">
								<div class="card-body">
									<ul class="list-styled fs-sm">
										<li class="list-styled-item"><a class="list-styled-link"
											href="/custom/faqList">FAQ</a></li>
										<li class="list-styled-item"><a class="list-styled-link"
											href="/custom/notice">Í≥µÏßÄÏÇ¨Ìï≠</a></li>
										<li class="list-styled-item"><a class="list-styled-link" id="customInq"
											href="#">1:1Î¨∏Ïùò</a></li>
									</ul>
								</div>
							</div>
						</div>

					</li>
				</ul>

				<!-- Nav -->
				<ul class="nav navbar-nav flex-row">
					<li class="nav-item"><a class="nav-link text-gray-350"
						href="#!"> <i class="fab fa-facebook-f"></i>
					</a></li>
					<li class="nav-item ms-xl-n4"><a
						class="nav-link text-gray-350" href="#!"> <i
							class="fab fa-twitter"></i>
					</a></li>
					<li class="nav-item ms-xl-n4"><a
						class="nav-link text-gray-350" href="#!"> <i
							class="fab fa-instagram"></i>
					</a></li>
					<li class="nav-item ms-xl-n4"><a
						class="nav-link text-gray-350" href="#!"> <i
							class="fab fa-medium"></i>
					</a></li>
				</ul>

			</div>
		</div>
	</div>
	<!-- NAVBAR -->
	<nav class="navbar navbar-expand-xl navbar-light">
		<div class="container">
			<!-- Toggler -->
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarClassicCollapse"
				aria-controls="navbarClassicCollapse" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<!-- Collapse -->
			<div class="collapse navbar-collapse row justify-content-center" id="navbarClassicCollapse"> 
				<!-- Nav -->
				<div class="col-3">
				<ul class="nav navbar-nav nav-divided">
					<li class="nav-item dropdown hovered">
						<a class="nav-link" data-bs-toggle="dropdown" href="#">Category</a>
						<!-- Menu -->
						<div class="dropdown-menu " style="width:300px;">
						<!-- Tabs -->
						<div class="mb-2 mb-lg-0 border-bottom-lg">
							<div class="container" style="display: flex-end; justify-content: space-between">
								<div class="row justify-content-around">
								
								<div class="col-3 " th:each="category:${categories}">
										<ul class="nav nav-unstyled nav-divided">
											<li class="nav-item dropdown hovered" id="deptCategory">
												<!-- Toggle --> 
												<a class="nav-link" data-bs-toggle="dropdown" th:text="${category.categoryCode}"></a> 
												<!-- Menu -->
												<div class="dropdown-menu" style="min-width: 650px">
													<div class="card card-lg">
														<div class="card-body">
															<div class="row">
																<!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïòÏúÑ -->
																<div class="col" th:each="ctgFirst : ${allCtg}" th:if="${ctgFirst.categoryLevel} == 2 and ${(ctgFirst.parentCategoryCode).equals('Fassion')} and ${(category.categoryCode).equals('Fassion')}" >
																	<!-- Heading -->
																	
																	<th:block  th:each="ctgSec : ${allCtg}" th:if="${ctgSec.categoryLevel} == 3 and
																	 ${(ctgSec.categoryName).equals('ÏÉÅÏùò')} and ${(ctgSec.parentCategoryCode).equals(ctgFirst.categoryCode)} " >
																
																
																
																	<div class="mb-5 fw-bolder" th:text="${ctgFirst.categoryName}+${ctgSec.categoryName}">
																	</div>
																		<!-- Links -->
																		<ul class="list-styled mb-7 fs-sm" th:each="ctgThd : ${allCtg}" th:if="${ctgThd.categoryLevel} == 4 and ${(ctgThd.parentCategoryCode).equals(ctgSec.categoryCode)}">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html" th:text="${ctgThd.categoryName} + ${ctgThd.categoryCode}">ÏÉÅÏùò</a>
																			</li>
																		</ul>
																	</th:block><!-- sec -->
																	
																	<th:block th:each="ctgSec : ${allCtg}" th:if="${ctgSec.categoryLevel} == 3 and
																	 ${(ctgSec.categoryName).equals('ÌïòÏùò')} and ${(ctgSec.parentCategoryCode).equals(ctgFirst.categoryCode)} ">
																	<!-- Heading -->
																	<div class="mb-5 fw-bolder" th:text="${ctgFirst.categoryName}+${ctgSec.categoryName}" >
																	</div>
																		<!-- Links -->
																		<ul class="list-styled mb-7 fs-sm"  th:each="ctgThd : ${allCtg}" th:if="${ctgThd.categoryLevel} == 4 and ${(ctgThd.parentCategoryCode).equals(ctgSec.categoryCode)}">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html" th:text="${ctgThd.categoryName} + ${ctgThd.categoryCode}" >ÌïòÏùò</a>
																			</li>
																		</ul>
																	</th:block>
																		
																	<th:block th:each="ctgSec : ${allCtg}" th:if="${ctgSec.categoryLevel} == 3 and
																	 ${(ctgSec.categoryName).equals('Ïã†Î∞ú')} and ${(ctgSec.parentCategoryCode).equals(ctgFirst.categoryCode)} ">
																	<div class="mb-5 fw-bolder" th:text="${ctgFirst.categoryName}+${ctgSec.categoryName}" >
																	</div>
																			<!-- Links -->
																		<ul class="list-styled mb-7 fs-sm" th:each="ctgThd : ${allCtg}" th:if="${ctgThd.categoryLevel} == 4 and ${(ctgThd.parentCategoryCode).equals(ctgSec.categoryCode)}">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./product.html"  th:text="${ctgThd.categoryName} + ${ctgThd.categoryCode}">Ïã†Î∞ú</a>
																			</li>
																		</ul>
																	</th:block>
																		
																	
																</div><!--  fassion col end -->
																
																<!-- Food Ïπ¥ÌÖåÍ≥†Î¶¨ -->
																<div class="col" th:if="${(category.categoryCode).equals('FOOD')}">
																	<div class="mb-5 fw-bolder">Ï∂ïÏÇ∞
																	</div>
																	<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html">ÎèºÏßÄ</a>
																			</li>
																	</ul>
																	<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html">Îã≠</a>
																			</li>
																	</ul>
																	<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html">ÏÜå</a>
																			</li>
																	</ul>
																	<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html">Í∏∞ÌÉÄ</a>
																			</li>
																	</ul>
																	
																</div>
																<div class="col" th:if="${(category.categoryCode).equals('FOOD')}">
																	<div class="mb-5 fw-bolder">ÏàòÏÇ∞Î¨º
																	</div>
																	<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html">ÏÉùÏÑ†</a>
																			</li>
																	</ul>
																	<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html">Ìï¥ÏÇ∞Î¨º</a>
																			</li>
																	</ul>
																	<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html">Í±¥Ïñ¥Î¨º</a>
																			</li>
																	</ul>
																	
																</div>
																<div class="col" th:if="${(category.categoryCode).equals('FOOD')}">
																	<div class="mb-5 fw-bolder">Í≥ºÏùº/Ï±ÑÏÜå
																	</div>
																	<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html">Í≥ºÏùº/Ï±ÑÏÜå</a>
																			</li>
																	</ul>
																	
																	
																</div><!-- Food col End -->
																
																
																
																<!-- Life Ïπ¥ÌÖåÍ≥†Î¶¨ -->
																<div class="col" th:each="ctgFirst : ${allCtg}" th:if="${ctgFirst.categoryLevel} == 2 and ${(ctgFirst.parentCategoryCode).equals('Life')} and ${(category.categoryCode).equals('Life')}" >
																	<!-- Heading -->
																	
																	<div class="mb-5 fw-bolder" th:text="${ctgFirst.categoryName}">
																	</div>
																	
																	<!-- LK, LD, LF  -->
																	<th:block  th:each="ctgSec : ${allCtg}" th:if="${ctgSec.categoryLevel} == 3 and
																	 ${(ctgSec.parentCategoryCode).equals('LK')}  and ${(ctgFirst.categoryCode).equals('LK') }" >
																		<!-- Links -->
																		<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html" th:text="${ctgSec.categoryName} + ${ctgSec.categoryCode}">Í∞ÄÏ†Ñ</a>
																			</li>
																		</ul>
																	</th:block><!-- sec -->
																	
																	<th:block  th:each="ctgSec : ${allCtg}" th:if="${ctgSec.categoryLevel} == 3 and
																	 ${(ctgSec.parentCategoryCode).equals('LF')}  and ${(ctgFirst.categoryCode).equals('LF') }" >
																		<!-- Links -->
																		<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html" th:text="${ctgSec.categoryName} + ${ctgSec.categoryCode}">Í∞ÄÍµ¨</a>
																			</li>
																		</ul>
																	</th:block><!-- sec -->
																	
																	<th:block  th:each="ctgSec : ${allCtg}" th:if="${ctgSec.categoryLevel} == 3 and
																	 ${(ctgSec.parentCategoryCode).equals('LD')}  and ${(ctgFirst.categoryCode).equals('LD') }" >
																		<!-- Links -->
																		<ul class="list-styled mb-7 fs-sm">
																			<li class="list-styled-item"><a
																				class="list-styled-link" href="./shop.html" th:text="${ctgSec.categoryName} + ${ctgSec.categoryCode}">ÏÉùÌôú</a>
																			</li>
																		</ul>
																	</th:block><!-- sec -->
																	
																		
																	
																</div><!--  Life col end -->
																
															</div><!-- row -->
														</div><!-- card-body -->
													</div><!-- card card-lg -->
												</div><!-- dropdown-menu -->
											</li>

										</ul>

									
								</div><!-- foreach close -->
								</div>
							</div><!-- container close -->
						</div><!-- class mb-2 mb-lg-0 border-bottom-lg close -->
						</div>
					</li>
							<!-- ÌåêÎß§ÏàúÏúÑ, Ïã†ÏÉÅ -->
							<li class="nav-item dropdown hovered">
								<!-- Toggle --> 
								<a class="nav-link" data-bs-toggle="dropdown" href="#">New</a>
							</li>
		
							<li class="nav-item dropdown hovered">
								<!-- Toggle --> 
								<a class="nav-link" data-bs-toggle="dropdown" href="#">Rank</a>
							</li>
				</ul>
				</div>
				
				
				
						<div class="col-3">
				
						<!-- ÌåêÎß§ÏàúÏúÑ, Ïã†ÏÉÅ -->
						<!-- Brand -->
						<a class="navbar-brand mx-auto d-none d-xl-block" href="/" style="text-align:center"> All
							Right </a>
						</div>
			<div class="col-3">
						<!-- Nav Ï∞ú Ïû•Î∞îÍµ¨Îãà ÎßàÏù¥ÌéòÏù¥ÏßÄ Í≤ÄÏÉâ-->
						<ul class="navbar-nav flex-row  justify-content-end">
							<li class="nav-item"><a class="nav-link"
								data-bs-toggle="offcanvas" href="#modalSearch"> <i
									class="fe fe-search"></i>
							</a></li>
							<li class="nav-item ms-lg-n4"><a class="nav-link"
		
								href="page/buyer/orderList"> <i class="fe fe-user"></i>
							</a></li>
							<li class="nav-item ms-lg-n4"><a class="nav-link"
								href="wishList"> <i class="fe fe-heart"></i>
							</a></li>
							<li class="nav-item ms-lg-n4">
								<a class="nav-link" id="cartId" 
								th:href="${session.loginMember} == null ? @{/page/member/loginForm} : @{/cart/cartView}"> 
		                   <span> <i class="fe fe-shopping-cart"></i></span>
		               </a></li>
		
						</ul>
						</div>
			</div><!-- navbarClassicCollapse close -->
		</div> <!-- nav container close -->
	</nav><!--  nav close -->
	<script th:inline="javascript">
		$('#customInq').on('click', function (e) {
			let member = [[${session.loginMember}]];
			if (member == null) {
				alert("Î°úÍ∑∏Ïù∏ ÌïòÏÖîÏïº ÏÑúÎπÑÏä§Î•º Ïù¥Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§.");
				location.href="page/member/loginForm";
				return;
			}else{
				location.href="/custom/inquiry";

			}
		})
	

		$('#cartId').on('click', function (e) {
			let member = [[${session.loginMember}]];
			if (member == null) {
				alert("Î°úÍ∑∏Ïù∏ ÌïòÏÖîÏïº ÏÑúÎπÑÏä§Î•º Ïù¥Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§.");
				location.href="page/member/loginForm";
				return;
			}else{
				location.href="/cart/cartView";
			}
		})

		$('.category').on('click',function(e){
			let parentCode = $(this).data('value');
			console.log(parentCode);
			
			$.ajax({
				url:'childCateList',
				type:'post',
				data : JSON.stringify({
					categoryCode : parentCode
				}),	
		        contentType:'application/json',
				success:function(result){
					console.log(result);
					$('.cate').empty();
					let box ='';
					if(parentCode == 'Fassion'){
						box = 'cate0';
					}else if(parentCode == 'FOOD'){
						box = 'cate1';
					}else{
						box = 'cate2';
					}
					
					
					$(result).each(function(idx,item){
						if(item.categoryLevel == 2){
							let result01 = item.categoryCode;
							let map = $($("#template").html()).clone();
							map.find('.cate-name').text(item.categoryName);
							$(result).each(function(idx, list){
								if(result01 == list.parentCategoryCode){
									console.log(result);
									// <li class="list-styled-item">
									// <a class="list-styled-link" href="./shop.html">All Bottoms</a>
									// </li>
									let liTag = $('<li />').attr("class","list-styled-item");;
									let aTag = $('<a/>').attr("class","list-styled-link").text(list.categoryName);
									liTag.append(aTag);
									map.find('.child-cate').append(liTag);
								}
							})
							
							$('#'+box).append(map);
						
						}
					})
				



				},
				error: function(err){
					console.log(err);
				}
			})
		})
		
		function logoutMember(e){
			console.log(e);
			let memberId = [[${session.loginMember}]]
			console.log(memberId);
			window.localStorage.clear();
			$.ajax({
				url : '/logout',
				type : 'POST'
			})
		}
	</script>
    <script th:src="@{/js/theme.bundle.js}"></script>
</div>
</html>