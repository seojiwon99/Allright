<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default_layout}">

<!-- Content -->
<div layout:fragment="content">
<!-- BREADCRUMB -->
	<nav class="py-5">
		<div class="container">
			<div class="row">
				<div class="col-12">

					<!-- Breadcrumb -->
					<ol class="breadcrumb mb-0 fs-xs text-gray-400">
						<li class="breadcrumb-item"><a class="text-gray-400"
							href="index.html">Home</a></li>
						<li class="breadcrumb-item active">My Page</li>
					</ol>

				</div>
			</div>
		</div>
	</nav>

	<!-- CONTENT -->
	<section class="pt-7 pb-12">
		<div class="container">
			<div class="row">
				<div class="col-12 text-center">

					<!-- Heading -->
					<h3 class="mb-10">My Inquiry</h3>

				</div>
			</div>
			<div class="row">
				<div class="col-12 col-md-3">

            <!-- Nav -->
            <nav class="mb-10 mb-md-0">
              <div class="list-group list-group-sm list-group-strong list-group-flush-x">
                <a class="list-group-item list-group-item-action dropend-toggle active" th:href="@{/page/buyer/orderList}">
                  주문 목록
                </a>
				<ul class="list-styled mb-0">
				<li class="nav-item">

                  <!-- Toggle -->
                  <a class="list-group-item list-group-item-action dropend-toggle active" data-bs-toggle="collapse" href="#Collapse" aria-expanded="true">
                   취소/반품/교환내역
                  </a>
                  <!-- Collapse -->
                  <div class="collapse" id="Collapse" data-simplebar-collapse="#seasonGroup">
                    <div class="form-group form-group-overflow mb-6" id="seasonGroup">
                      <div class="form-check mb-3">
                        <a class="form-check-label"  href="cancelList">
                          취소
                        </a>
                      </div>
                      <div class="form-check mb-3">
                        <a class="form-check-label"  href="returnList">
                          반품
                        </a>
                      </div>
                      <div class="form-check">
                        <a class="form-check-label"  href="exchangeList">
                          교환
                        </a>
                      </div>
                    </div>
                  </div>
                 </li>
                <li class="nav-item">
                <a class="list-group-item list-group-item-action dropend-toggle " th:href="@{/page/buyer/myCoupon}">
                  나의 쿠폰함
                </a>
                </li>
                <li class="nav-item">
                <a class="list-group-item list-group-item-action dropend-toggle " th:href="@{/page/buyer/myInquiry}">
                  문의내역
                </a>
                </li>
                 <li class="nav-item">
                <a class="list-group-item list-group-item-action dropend-toggle " th:href="@{/page/buyer/wishList}">
                  찜 목록
                </a>
                </li>
                 <li class="nav-item">
                <a class="list-group-item list-group-item-action dropend-toggle " th:href="@{/page/buyer/personalInfo}">
                  개인정보 확인/수정
                </a>
                </li>
                </ul>
              </div>
            </nav>

          </div>
			<div class="col-12 col-md-9 col-lg-8 offset-lg-1">
            
            <!-- Order -->
            <!--  -->
            <div class="card card-lg mb-5 border">
              <div class="card-body pb-0">
                <div class="card card-sm">
	               <div class="card-body bg-light">
	                 <div class="row">
	                      <table class="table">
						<thead>
							<tr>
								<th>문의 번호</th>
								<th>문의 제목</th>
								<th>문의 내용</th>
								<th>작성 날짜</th>
								<th>답변 여부</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="inqs,status : ${myInquiry}">
								<td style="display:none;"></td>
								<td th:id="|code${status.index}|">[[${inqs.customInquiryCode}]]</td>
								<td th:id="|title${status.index}|" data-bs-toggle="modal" th:data-bs-target="|#modalProduct${inqs.customInquiryCode}|">[[${inqs.customInquiryTitle}]]</td>
								<td th:id="|content${status.index}|">[[${inqs.customInquiryContent}]]</td>
								<td th:id="|regdate${status.index}|">[[${#dates.format(inqs.customInquiryRegdate, 'yyyy-MM-dd')}]]</td>
								<td th:id="|answer${status.index}|" >[[${inqs.customInquiryAnswerStatus}]] </td>
							</tr>
						</tbody>
					</table>
					    <!-- Modal -->
						<div th:each="inqs : ${myInquiry}">
					    <div class="modal fade" th:id="|modalProduct${inqs.customInquiryCode}|" tabindex="-1" role="dialog" aria-hidden="true">
					      <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
					        <div class="modal-content">
					          <!-- Close -->
					          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
					            <i class="fe fe-x" aria-hidden="true"></i>
					          </button>
					          <!-- Content -->
					          <div class="container-fluid px-xl-0">
					            <div class="row align-items-center mx-xl-0">
					              <div class="col-12 col-lg-6 col-xl-7 py-9 px-md-9">
					                <label class="h5">문의 제목 :</label>
					                <h5 class="mb-3" th:text="|${inqs.customInquiryTitle}|"></h5>
					                <label class="h6">문의 날짜 :</label>
					                <h6 class="mb-3" th:text="|${#dates.format(inqs.customInquiryRegdate, 'yyyy-MM-dd hh:mm:ss')}|"></h6>
					                <!-- Form -->
					                <form>
					                  <label class="h5">문의 내용 :</label>
					                  <div class="form-group">
					    				<textarea rows="10" cols="100" th:text="|${inqs.customInquiryContent}|"></textarea>
					                  </div>
					                  <div class="form-group mb-0">
					                    <div class="row gx-5">
					    	              <div class="col-12 col-lg">
					                        <button type="submit" class="btn w-100 btn-dark mb-2">
					                          닫기
					                        </button>
					                      </div>
					                      <!--<div class="col-12 col-lg-auto">
					                        <button class="btn btn-outline-dark w-100 mb-2" data-toggle="button">
					                          닫기
					                        </button>
					                      </div>-->
					                    </div>
					                  </div>
					                </form>
					              </div>
					            </div>
					          </div>
					        </div>
					      </div>
						 </div>                     
	                  </div>
	                </div>
	                </div>
				</div>
            </div>
          </div>
          <!-- Pagination -->
					<nav
						class="d-flex justify-content-center justify-content-md-end mt-10">
						<ul class="pagination pagination-sm text-gray-400">
							<li class="page-item" th:if="${pageMaker.prev}"><a
								class="page-link page-link-arrow"
								th:href="@{/buyer/myInquiry/(pageNum = ${pageMaker.startPage - 1})}">
									<i class="fa fa-caret-left"></i>
							</a></li>
							<th:block
								th:with="start = ${pageMaker.startPage}, end = ${pageMaker.endPage}">
								<li th:if="${pageMaker.endPage} ne 0"
									th:with="start = ${pageMaker.startPage}, end = ${pageMaker.endPage}"
									th:each="pageButtom : ${#numbers.sequence(start,end)}"
									th:class="${pageMaker.cri.pageNum} eq ${pageButtom} ? 'page-item active' : 'page-item'">
									<a class="page-link" href="#"
									th:href="@{/buyer/myInquiry/(pageNum= ${pageButtom} )}"
									th:text="${pageButtom}"></a>
								</li>
							</th:block>

							<li class="page-item" th:if="${pageMaker.next}"><a
								class="page-link page-link-arrow"
								th:href="@{/buyer/myInquiry/(pageNum = ${pageMaker.endPage + 1})}">
									<i class="fa fa-caret-right"></i>
							</a></li>
						</ul>
					</nav>
					<form action="/buyer/myInquiry" method="get">
				<input type="hidden" name="pageNum" th:value="${pageMaker.cri.pageNum}">
				<input type="hidden" name="amount" th:value="${pageMaker.cri.amount}">
				<input type="hidden" name="keyword" th:value="${pageMaker.cri.keyword}">
		</form>
        </div>
	  </div>
	 </div>
	</section>
</div>
</html>